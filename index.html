<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BUDDIQ - Your AI Study Buddy</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>
    
    <style>
        /* Color Variables */
        :root {
            --primary: #DC143C;
            --secondary: #F75270;
            --light: #F7CAC9;
            --background: #FDEBD0;
        }
        
        /* Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--background);
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* Header & Navigation */
        header {
            background-color: white;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
        }
        
        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
        }
        
        .logo-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .logo-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 20px;
        }
        
        .logo-text {
            font-size: 28px;
            font-weight: 700;
            color: var(--primary);
        }
        
        .nav-links {
            display: flex;
            list-style: none;
        }
        
        .nav-links li {
            margin-left: 30px;
        }
        
        .nav-links a {
            text-decoration: none;
            color: #333;
            font-weight: 500;
            transition: color 0.3s;
        }
        
        .nav-links a:hover {
            color: var(--primary);
        }
        
        .cta-button {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 10px 25px;
            border-radius: 30px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .cta-button:hover {
            background-color: var(--secondary);
        }
        
        /* Hero Section */
        .hero {
            padding: 150px 0 100px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .hero-content {
            flex: 1;
            padding-right: 40px;
        }
        
        .hero h1 {
            font-size: 48px;
            margin-bottom: 20px;
            color: var(--primary);
        }
        
        .hero p {
            font-size: 18px;
            margin-bottom: 30px;
            color: #555;
        }
        
        .hero-image {
            flex: 1;
            text-align: center;
        }
        
        .hero-image img {
            max-width: 100%;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }
        
        /* Features Section */
        .features {
            padding: 100px 0;
            background-color: white;
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 60px;
        }
        
        .section-title h2 {
            font-size: 36px;
            color: var(--primary);
            margin-bottom: 15px;
        }
        
        .section-title p {
            color: #666;
            max-width: 600px;
            margin: 0 auto;
        }
        
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }
        
        .feature-card {
            background-color: var(--light);
            padding: 30px;
            border-radius: 10px;
            text-align: center;
            transition: transform 0.3s;
        }
        
        .feature-card:hover {
            transform: translateY(-10px);
        }
        
        .feature-icon {
            font-size: 40px;
            color: var(--primary);
            margin-bottom: 20px;
        }
        
        .feature-card h3 {
            margin-bottom: 15px;
            color: #333;
        }
        
        /* How It Works */
        .how-it-works {
            padding: 100px 0;
        }
        
        .steps {
            display: flex;
            justify-content: space-between;
            margin-top: 50px;
        }
        
        .step {
            text-align: center;
            flex: 1;
            padding: 0 20px;
        }
        
        .step-number {
            width: 60px;
            height: 60px;
            background-color: var(--primary);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: bold;
            margin: 0 auto 20px;
        }
        
        /* Testimonials */
        .testimonials {
            padding: 100px 0;
            background-color: white;
        }
        
        .testimonial-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }
        
        .testimonial-card {
            background-color: var(--light);
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }
        
        .testimonial-text {
            font-style: italic;
            margin-bottom: 20px;
        }
        
        .testimonial-author {
            display: flex;
            align-items: center;
        }
        
        .author-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: var(--secondary);
            margin-right: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }
        
        /* Dashboard Section */
        .dashboard {
            padding: 100px 0;
            background-color: var(--light);
            display: none;
        }
        
        .dashboard.active {
            display: block;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
        
        .stat-card {
            background-color: white;
            padding: 25px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }
        
        .stat-value {
            font-size: 36px;
            font-weight: bold;
            color: var(--primary);
            margin-bottom: 10px;
        }
        
        .study-sessions {
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }
        
        .session-list {
            margin-top: 20px;
        }
        
        .session-item {
            padding: 15px;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
        }
        
        /* CTA Section */
        .cta-section {
            padding: 100px 0;
            text-align: center;
            background-color: var(--primary);
            color: white;
        }
        
        .cta-section h2 {
            font-size: 36px;
            margin-bottom: 20px;
        }
        
        .cta-section p {
            max-width: 600px;
            margin: 0 auto 30px;
        }
        
        .cta-button.light {
            background-color: white;
            color: var(--primary);
        }
        
        .cta-button.light:hover {
            background-color: var(--light);
        }
        
        /* Footer */
        footer {
            background-color: #333;
            color: white;
            padding: 60px 0 30px;
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }
        
        .footer-column h3 {
            margin-bottom: 20px;
            color: var(--light);
        }
        
        .footer-links {
            list-style: none;
        }
        
        .footer-links li {
            margin-bottom: 10px;
        }
        
        .footer-links a {
            color: #ccc;
            text-decoration: none;
            transition: color 0.3s;
        }
        
        .footer-links a:hover {
            color: var(--light);
        }
        
        .social-icons {
            display: flex;
            gap: 15px;
        }
        
        .social-icons a {
            color: white;
            font-size: 20px;
            transition: color 0.3s;
        }
        
        .social-icons a:hover {
            color: var(--light);
        }
        
        .copyright {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid #444;
            color: #aaa;
            font-size: 14px;
        }
        
        /* Auth Modal Styles */
        .auth-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }
        
        .auth-container {
            background-color: white;
            border-radius: 10px;
            width: 90%;
            max-width: 400px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }
        
        .auth-tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 1px solid #eee;
        }
        
        .auth-tab {
            flex: 1;
            text-align: center;
            padding: 10px;
            cursor: pointer;
            font-weight: 500;
        }
        
        .auth-tab.active {
            color: var(--primary);
            border-bottom: 2px solid var(--primary);
        }
        
        .auth-form {
            display: none;
        }
        
        .auth-form.active {
            display: block;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }
        
        .form-group input {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
        }
        
        .auth-button {
            width: 100%;
            padding: 12px;
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .auth-button:hover {
            background-color: var(--secondary);
        }
        
        .auth-message {
            margin-top: 15px;
            padding: 10px;
            border-radius: 5px;
            text-align: center;
            display: none;
        }
        
        .auth-message.success {
            background-color: #d4edda;
            color: #155724;
            display: block;
        }
        
        .auth-message.error {
            background-color: #f8d7da;
            color: #721c24;
            display: block;
        }
        
        .close-modal {
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 24px;
            cursor: pointer;
            color: #666;
        }
        
        /* User Info */
        .user-info {
            display: none;
            align-items: center;
            gap: 10px;
        }
        
        .user-avatar {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            background-color: var(--secondary);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }
        
        .logout-button {
            background: none;
            border: none;
            color: var(--primary);
            cursor: pointer;
            font-weight: 500;
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .hero {
                flex-direction: column;
                text-align: center;
                padding: 120px 0 60px;
            }
            
            .hero-content {
                padding-right: 0;
                margin-bottom: 40px;
            }
            
            .steps {
                flex-direction: column;
            }
            
            .step {
                margin-bottom: 40px;
            }
            
            .nav-links {
                display: none;
            }
        }
    </style>
</head>
<body>
    <!-- Header & Navigation -->
    <header>
        <div class="container">
            <nav>
                <div class="logo-container">
                    <div class="logo-icon">
                        <i class="fas fa-brain"></i>
                    </div>
                    <div class="logo-text">BUDDIQ</div>
                </div>
                <ul class="nav-links">
                    <li><a href="#features">Features</a></li>
                    <li><a href="#how-it-works">How It Works</a></li>
                    <li><a href="#testimonials">Testimonials</a></li>
                    <li><a href="#dashboard">Dashboard</a></li>
                </ul>
                <div class="user-info" id="userInfo">
                    <div class="user-avatar" id="userAvatar">U</div>
                    <span id="userName">User</span>
                    <button class="logout-button" id="logoutButton">Logout</button>
                </div>
                <button class="cta-button" id="authButton">Get Started</button>
            </nav>
        </div>
    </header>

    <!-- Auth Modal -->
    <div class="auth-modal" id="authModal">
        <div class="auth-container">
            <span class="close-modal" id="closeModal">&times;</span>
            <div class="auth-tabs">
                <div class="auth-tab active" id="loginTab">Login</div>
                <div class="auth-tab" id="signupTab">Sign Up</div>
            </div>
            
            <div class="auth-form active" id="loginForm">
                <div class="form-group">
                    <label for="loginEmail">Email</label>
                    <input type="email" id="loginEmail" placeholder="Enter your email">
                </div>
                <div class="form-group">
                    <label for="loginPassword">Password</label>
                    <input type="password" id="loginPassword" placeholder="Enter your password">
                </div>
                <button class="auth-button" id="loginButton">Login</button>
                <div class="auth-message" id="loginMessage"></div>
                <div style="text-align: center; margin: 20px 0;">
                    <div style="display: flex; align-items: center; margin: 15px 0;">
                        <div style="flex: 1; height: 1px; background: #ddd;"></div>
                        <span style="padding: 0 10px; color: #666;">OR</span>
                        <div style="flex: 1; height: 1px; background: #ddd;"></div>
                    </div>
                    <button class="auth-button google-button" id="googleLoginButton" style="background-color: #4285F4; display: flex; align-items: center; justify-content: center; gap: 10px;">
                        <i class="fab fa-google"></i>
                        Sign in with Google
                    </button>
                </div>
            </div>
            
            <div class="auth-form" id="signupForm">
                <div class="form-group">
                    <label for="signupName">Full Name</label>
                    <input type="text" id="signupName" placeholder="Enter your full name">
                </div>
                <div class="form-group">
                    <label for="signupEmail">Email</label>
                    <input type="email" id="signupEmail" placeholder="Enter your email">
                </div>
                <div class="form-group">
                    <label for="signupPassword">Password</label>
                    <input type="password" id="signupPassword" placeholder="Create a password">
                </div>
                <div class="form-group">
                    <label for="confirmPassword">Confirm Password</label>
                    <input type="password" id="confirmPassword" placeholder="Confirm your password">
                </div>
                <button class="auth-button" id="signupButton">Sign Up</button>
                <div class="auth-message" id="signupMessage"></div>
                <div style="text-align: center; margin: 20px 0;">
                    <div style="display: flex; align-items: center; margin: 15px 0;">
                        <div style="flex: 1; height: 1px; background: #ddd;"></div>
                        <span style="padding: 0 10px; color: #666;">OR</span>
                        <div style="flex: 1; height: 1px; background: #ddd;"></div>
                    </div>
                    <button class="auth-button google-button" id="googleSignupButton" style="background-color: #4285F4; display: flex; align-items: center; justify-content: center; gap: 10px;">
                        <i class="fab fa-google"></i>
                        Sign up with Google
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <div class="hero-content">
                <h1>Your AI-Powered Study Buddy</h1>
                <p>BUDDIQ helps you study smarter, not harder. Our AI assistant creates personalized study plans, tracks your progress, and helps you master any subject with ease.</p>
                <button class="cta-button" id="heroAuthButton">Start Learning Now</button>
            </div>
            <div class="hero-image">
                <img src="https://images.unsplash.com/photo-1523240795612-9a054b0db644?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="Student studying with BUDDIQ">
            </div>
        </div>
    </section>

    <!-- Dashboard Section -->
    <section class="dashboard" id="dashboard">
        <div class="container">
            <div class="section-title">
                <h2>Your Study Dashboard</h2>
                <p>Track your progress and manage your study sessions</p>
            </div>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value" id="totalStudyTime">0h</div>
                    <div class="stat-label">Total Study Time</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="sessionsCompleted">0</div>
                    <div class="stat-label">Sessions Completed</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="currentStreak">0</div>
                    <div class="stat-label">Current Streak</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="goalsAchieved">0%</div>
                    <div class="stat-label">Goals Achieved</div>
                </div>
            </div>
            
            <div class="study-sessions">
                <h3>Recent Study Sessions</h3>
                <div class="session-list" id="sessionList">
                    <p>No study sessions recorded yet. Start studying to see your progress!</p>
                </div>
                <button class="cta-button" id="addSessionButton" style="margin-top: 20px;">Add Study Session</button>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="features" id="features">
        <div class="container">
            <div class="section-title">
                <h2>Powerful Features</h2>
                <p>Discover how BUDDIQ revolutionizes your study routine with these amazing features</p>
            </div>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-brain"></i>
                    </div>
                    <h3>Smart Study Plans</h3>
                    <p>AI-generated study schedules tailored to your learning style, goals, and deadlines.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <h3>Progress Tracking</h3>
                    <p>Monitor your improvement with detailed analytics and performance insights.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-robot"></i>
                    </div>
                    <h3>AI Tutor</h3>
                    <p>Get instant answers to your questions and explanations for difficult concepts.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-flask"></i>
                    </div>
                    <h3>Practice Tests</h3>
                    <p>Generate unlimited practice questions and mock exams for any subject.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <h3>Study Groups</h3>
                    <p>Connect with peers studying the same topics for collaborative learning.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-mobile-alt"></i>
                    </div>
                    <h3>Mobile App</h3>
                    <p>Study on the go with our fully-featured mobile application.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- How It Works Section -->
    <section class="how-it-works" id="how-it-works">
        <div class="container">
            <div class="section-title">
                <h2>How BUDDIQ Works</h2>
                <p>Get started with BUDDIQ in just three simple steps</p>
            </div>
            <div class="steps">
                <div class="step">
                    <div class="step-number">1</div>
                    <h3>Sign Up & Set Goals</h3>
                    <p>Create your account and tell us about your subjects, deadlines, and learning objectives.</p>
                </div>
                <div class="step">
                    <div class="step-number">2</div>
                    <h3>Get Your Study Plan</h3>
                    <p>Our AI analyzes your needs and creates a personalized study schedule just for you.</p>
                </div>
                <div class="step">
                    <div class="step-number">3</div>
                    <h3>Study & Succeed</h3>
                    <p>Follow your plan, track progress, and use our tools to master your subjects.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Testimonials Section -->
    <section class="testimonials" id="testimonials">
        <div class="container">
            <div class="section-title">
                <h2>What Students Say</h2>
                <p>Hear from students who have transformed their study habits with BUDDIQ</p>
            </div>
            <div class="testimonial-cards">
                <div class="testimonial-card">
                    <div class="testimonial-text">
                        "BUDDIQ helped me improve my grades from B's to A's in just one semester. The personalized study plans made all the difference!"
                    </div>
                    <div class="testimonial-author">
                        <div class="author-avatar">SJ</div>
                        <div>
                            <h4>Sarah Johnson</h4>
                            <p>Medical Student</p>
                        </div>
                    </div>
                </div>
                <div class="testimonial-card">
                    <div class="testimonial-text">
                        "As a working professional studying for certifications, BUDDIQ's flexible scheduling and progress tracking kept me on track to pass my exams."
                    </div>
                    <div class="testimonial-author">
                        <div class="author-avatar">MR</div>
                        <div>
                            <h4>Michael Rodriguez</h4>
                            <p>IT Professional</p>
                        </div>
                    </div>
                </div>
                <div class="testimonial-card">
                    <div class="testimonial-text">
                        "The AI tutor feature is incredible! It explains difficult concepts in ways I can actually understand. My test scores have never been higher."
                    </div>
                    <div class="testimonial-author">
                        <div class="author-avatar">EP</div>
                        <div>
                            <h4>Emily Parker</h4>
                            <p>High School Student</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="cta-section">
        <div class="container">
            <h2>Ready to Transform Your Study Habits?</h2>
            <p>Join thousands of students who are already studying smarter with BUDDIQ</p>
            <button class="cta-button light" id="ctaAuthButton">Start Your Free Trial</button>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>BUDDIQ</h3>
                    <p>Your AI-powered study companion for academic success.</p>
                    <div class="social-icons">
                        <a href="#"><i class="fab fa-facebook"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-linkedin"></i></a>
                    </div>
                </div>
                <div class="footer-column">
                    <h3>Product</h3>
                    <ul class="footer-links">
                        <li><a href="#">Features</a></li>
                        <li><a href="#">Pricing</a></li>
                        <li><a href="#">Case Studies</a></li>
                        <li><a href="#">Updates</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Resources</h3>
                    <ul class="footer-links">
                        <li><a href="#">Blog</a></li>
                        <li><a href="#">Tutorials</a></li>
                        <li><a href="#">Support</a></li>
                        <li><a href="#">FAQ</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Company</h3>
                    <ul class="footer-links">
                        <li><a href="#">About Us</a></li>
                        <li><a href="#">Careers</a></li>
                        <li><a href="#">Contact</a></li>
                        <li><a href="#">Partners</a></li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2023 BUDDIQ. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Firebase Configuration
        const firebaseConfig = {
    apiKey: "AIzaSyAy8q2iloXSLHQjCZbdjFRN5A12F0SXX70",
    authDomain: "buddiq-755b7.firebaseapp.com",
    databaseURL: "https://buddiq-755b7-default-rtdb.firebaseio.com",
    projectId: "buddiq-755b7",
    storageBucket: "buddiq-755b7.firebasestorage.app",
    messagingSenderId: "1001002576339",
    appId: "1:1001002576339:web:64bdf1cf0efd021ba16726",
    measurementId: "G-KMGJXNQV8Q"
  };


        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const database = firebase.database();

        // DOM Elements
        const authModal = document.getElementById('authModal');
        const closeModal = document.getElementById('closeModal');
        const authButton = document.getElementById('authButton');
        const heroAuthButton = document.getElementById('heroAuthButton');
        const ctaAuthButton = document.getElementById('ctaAuthButton');
        const loginTab = document.getElementById('loginTab');
        const signupTab = document.getElementById('signupTab');
        const loginForm = document.getElementById('loginForm');
        const signupForm = document.getElementById('signupForm');
        const loginButton = document.getElementById('loginButton');
        const signupButton = document.getElementById('signupButton');
        const googleLoginButton = document.getElementById('googleLoginButton');
        const googleSignupButton = document.getElementById('googleSignupButton');
        const loginMessage = document.getElementById('loginMessage');
        const signupMessage = document.getElementById('signupMessage');
        const userInfo = document.getElementById('userInfo');
        const userName = document.getElementById('userName');
        const userAvatar = document.getElementById('userAvatar');
        const logoutButton = document.getElementById('logoutButton');
        const dashboard = document.getElementById('dashboard');
        const totalStudyTime = document.getElementById('totalStudyTime');
        const sessionsCompleted = document.getElementById('sessionsCompleted');
        const currentStreak = document.getElementById('currentStreak');
        const goalsAchieved = document.getElementById('goalsAchieved');
        const sessionList = document.getElementById('sessionList');
        const addSessionButton = document.getElementById('addSessionButton');

        // Show Auth Modal
        function showAuthModal() {
            authModal.style.display = 'flex';
        }

        // Hide Auth Modal
        function hideAuthModal() {
            authModal.style.display = 'none';
            loginMessage.textContent = '';
            loginMessage.className = 'auth-message';
            signupMessage.textContent = '';
            signupMessage.className = 'auth-message';
        }

        // Switch between login and signup forms
        loginTab.addEventListener('click', () => {
            loginTab.classList.add('active');
            signupTab.classList.remove('active');
            loginForm.classList.add('active');
            signupForm.classList.remove('active');
        });

        signupTab.addEventListener('click', () => {
            signupTab.classList.add('active');
            loginTab.classList.remove('active');
            signupForm.classList.add('active');
            loginForm.classList.remove('active');
        });

        // Event Listeners for opening modal
        authButton.addEventListener('click', showAuthModal);
        heroAuthButton.addEventListener('click', showAuthModal);
        ctaAuthButton.addEventListener('click', showAuthModal);
        closeModal.addEventListener('click', hideAuthModal);

        // Close modal when clicking outside
        window.addEventListener('click', (e) => {
            if (e.target === authModal) {
                hideAuthModal();
            }
        });

        // Create user profile in database
        function createUserProfile(user, name) {
            const userRef = database.ref('users/' + user.uid);
            
            userRef.set({
                name: name,
                email: user.email,
                createdAt: firebase.database.ServerValue.TIMESTAMP,
                studyStats: {
                    totalStudyTime: 0,
                    sessionsCompleted: 0,
                    currentStreak: 0,
                    goalsAchieved: 0
                }
            });
            
            // Create empty study sessions node
            database.ref('studySessions/' + user.uid).set({});
        }

        // Sign Up Function
        signupButton.addEventListener('click', () => {
            const name = document.getElementById('signupName').value;
            const email = document.getElementById('signupEmail').value;
            const password = document.getElementById('signupPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;

            // Validation
            if (!name || !email || !password || !confirmPassword) {
                signupMessage.textContent = 'Please fill in all fields.';
                signupMessage.className = 'auth-message error';
                return;
            }

            if (password !== confirmPassword) {
                signupMessage.textContent = 'Passwords do not match.';
                signupMessage.className = 'auth-message error';
                return;
            }

            if (password.length < 6) {
                signupMessage.textContent = 'Password should be at least 6 characters.';
                signupMessage.className = 'auth-message error';
                return;
            }

            // Firebase Sign Up
            auth.createUserWithEmailAndPassword(email, password)
                .then((userCredential) => {
                    // Signed up successfully
                    const user = userCredential.user;
                    
                    // Update user profile with name
                    user.updateProfile({
                        displayName: name
                    }).then(() => {
                        // Create user profile in database
                        createUserProfile(user, name);
                        
                        signupMessage.textContent = 'Account created successfully!';
                        signupMessage.className = 'auth-message success';
                        
                        // Clear form
                        document.getElementById('signupName').value = '';
                        document.getElementById('signupEmail').value = '';
                        document.getElementById('signupPassword').value = '';
                        document.getElementById('confirmPassword').value = '';
                        
                        // Update UI
                        updateUI(user);
                        
                        // Close modal after 2 seconds
                        setTimeout(() => {
                            hideAuthModal();
                        }, 2000);
                    });
                })
                .catch((error) => {
                    const errorCode = error.code;
                    let errorMessage = 'An error occurred. Please try again.';
                    
                    if (errorCode === 'auth/email-already-in-use') {
                        errorMessage = 'This email is already registered.';
                    } else if (errorCode === 'auth/invalid-email') {
                        errorMessage = 'Invalid email address.';
                    } else if (errorCode === 'auth/weak-password') {
                        errorMessage = 'Password is too weak.';
                    }
                    
                    signupMessage.textContent = errorMessage;
                    signupMessage.className = 'auth-message error';
                });
        });

        // Login Function
        loginButton.addEventListener('click', () => {
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;

            // Validation
            if (!email || !password) {
                loginMessage.textContent = 'Please fill in all fields.';
                loginMessage.className = 'auth-message error';
                return;
            }

            // Firebase Login
            auth.signInWithEmailAndPassword(email, password)
                .then((userCredential) => {
                    // Logged in successfully
                    const user = userCredential.user;
                    
                    loginMessage.textContent = 'Login successful!';
                    loginMessage.className = 'auth-message success';
                    
                    // Clear form
                    document.getElementById('loginEmail').value = '';
                    document.getElementById('loginPassword').value = '';
                    
                    // Update UI
                    updateUI(user);
                    
                    // Close modal after 2 seconds
                    setTimeout(() => {
                        hideAuthModal();
                    }, 2000);
                })
                .catch((error) => {
                    const errorCode = error.code;
                    let errorMessage = 'An error occurred. Please try again.';
                    
                    if (errorCode === 'auth/user-not-found') {
                        errorMessage = 'No account found with this email.';
                    } else if (errorCode === 'auth/wrong-password') {
                        errorMessage = 'Incorrect password.';
                    } else if (errorCode === 'auth/invalid-email') {
                        errorMessage = 'Invalid email address.';
                    }
                    
                    loginMessage.textContent = errorMessage;
                    loginMessage.className = 'auth-message error';
                });
        });

        // Google Sign-In Provider
        const googleProvider = new firebase.auth.GoogleAuthProvider();

        // Google Sign-In Function (works for both login and signup)
        function signInWithGoogle() {
            auth.signInWithPopup(googleProvider)
                .then((result) => {
                    // This gives you a Google Access Token
                    const credential = result.credential;
                    const token = credential.accessToken;
                    // The signed-in user info
                    const user = result.user;
                    
                    // Check if user exists in database, if not create profile
                    const userRef = database.ref('users/' + user.uid);
                    userRef.once('value', (snapshot) => {
                        if (!snapshot.exists()) {
                            // New user - create profile
                            createUserProfile(user, user.displayName || 'User');
                        }
                    });
                    
                    // Show success message
                    const message = loginForm.classList.contains('active') ? loginMessage : signupMessage;
                    message.textContent = 'Successfully signed in with Google!';
                    message.className = 'auth-message success';
                    
                    // Update UI
                    updateUI(user);
                    
                    // Close modal after 2 seconds
                    setTimeout(() => {
                        hideAuthModal();
                    }, 2000);
                })
                .catch((error) => {
                    // Handle Errors here
                    const errorCode = error.code;
                    const errorMessage = error.message;
                    
                    const message = loginForm.classList.contains('active') ? loginMessage : signupMessage;
                    let displayMessage = 'An error occurred. Please try again.';
                    
                    if (errorCode === 'auth/popup-closed-by-user') {
                        displayMessage = 'Sign-in popup was closed. Please try again.';
                    } else if (errorCode === 'auth/cancelled-popup-request') {
                        displayMessage = 'Sign-in was cancelled.';
                    }
                    
                    message.textContent = displayMessage;
                    message.className = 'auth-message error';
                    
                    console.error('Google Sign-In Error:', errorCode, errorMessage);
                });
        }

        // Google Sign-In Event Listeners
        googleLoginButton.addEventListener('click', signInWithGoogle);
        googleSignupButton.addEventListener('click', signInWithGoogle);

        // Logout Function
        logoutButton.addEventListener('click', () => {
            auth.signOut()
                .then(() => {
                    // Update UI
                    updateUI(null);
                })
                .catch((error) => {
                    console.error('Logout error:', error);
                });
        });

        // Load user data from database
        function loadUserData(userId) {
            // Load user stats
            const userRef = database.ref('users/' + userId + '/studyStats');
            userRef.on('value', (snapshot) => {
                const stats = snapshot.val();
                if (stats) {
                    totalStudyTime.textContent = Math.round(stats.totalStudyTime / 60) + 'h';
                    sessionsCompleted.textContent = stats.sessionsCompleted;
                    currentStreak.textContent = stats.currentStreak;
                    goalsAchieved.textContent = stats.goalsAchieved + '%';
                }
            });

            // Load study sessions
            const sessionsRef = database.ref('studySessions/' + userId);
            sessionsRef.on('value', (snapshot) => {
                const sessions = snapshot.val();
                sessionList.innerHTML = '';
                
                if (sessions) {
                    Object.keys(sessions).forEach(key => {
                        const session = sessions[key];
                        const sessionItem = document.createElement('div');
                        sessionItem.className = 'session-item';
                        sessionItem.innerHTML = `
                            <div>
                                <strong>${session.subject}</strong>
                                <div>${session.date}</div>
                            </div>
                            <div>${session.duration} minutes</div>
                        `;
                        sessionList.appendChild(sessionItem);
                    });
                } else {
                    sessionList.innerHTML = '<p>No study sessions recorded yet. Start studying to see your progress!</p>';
                }
            });
        }

        // Add study session
        addSessionButton.addEventListener('click', () => {
            const user = auth.currentUser;
            if (!user) return;

            // Simple session creation (in a real app, you'd have a form for this)
            const subjects = ['Mathematics', 'Science', 'History', 'English', 'Programming'];
            const randomSubject = subjects[Math.floor(Math.random() * subjects.length)];
            const duration = Math.floor(Math.random() * 120) + 30; // 30-150 minutes
            const date = new Date().toLocaleDateString();

            const sessionData = {
                subject: randomSubject,
                duration: duration,
                date: date,
                timestamp: firebase.database.ServerValue.TIMESTAMP
            };

            // Add session to database
            const newSessionKey = database.ref('studySessions/' + user.uid).push().key;
            const updates = {};
            updates['studySessions/' + user.uid + '/' + newSessionKey] = sessionData;
            
            // Update user stats
            const userRef = database.ref('users/' + user.uid + '/studyStats');
            userRef.transaction((stats) => {
                if (stats) {
                    stats.totalStudyTime += duration;
                    stats.sessionsCompleted += 1;
                    // Simple streak logic (in real app, you'd check consecutive days)
                    stats.currentStreak += 1;
                    stats.goalsAchieved = Math.min(100, Math.round((stats.sessionsCompleted / 10) * 100));
                }
                return stats;
            });

            database.ref().update(updates);
        });

        // Update UI based on authentication state
        function updateUI(user) {
            if (user) {
                // User is signed in
                userInfo.style.display = 'flex';
                authButton.style.display = 'none';
                dashboard.classList.add('active');
                
                // Set user name and avatar
                const displayName = user.displayName || 'User';
                userName.textContent = displayName;
                userAvatar.textContent = displayName.charAt(0).toUpperCase();
                
                // Load user data from database
                loadUserData(user.uid);
            } else {
                // User is signed out
                userInfo.style.display = 'none';
                authButton.style.display = 'block';
                dashboard.classList.remove('active');
            }
        }

        // Auth state observer
        auth.onAuthStateChanged((user) => {
            updateUI(user);
        });

        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                
                const targetId = this.getAttribute('href');
                if(targetId === '#') return;
                
                const targetElement = document.querySelector(targetId);
                if(targetElement) {
                    window.scrollTo({
                        top: targetElement.offsetTop - 80,
                        behavior: 'smooth'
                    });
                }
            });
        });

        
        
        // Add scroll effect to header
        window.addEventListener('scroll', function() {
            const header = document.querySelector('header');
            if (window.scrollY > 50) {
                header.style.boxShadow = '0 5px 15px rgba(0, 0, 0, 0.1)';
            } else {
                header.style.boxShadow = '0 2px 10px rgba(0, 0, 0, 0.1)';
            }
        });
    </script>
</body>
</html>
